{"updatedAt":"2025-10-15T08:26:54.000Z","createdAt":"2025-10-14T18:05:09.597Z","id":"E2uhZAy2F78UZ8ge","name":"Extractor de drive","active":false,"isArchived":false,"nodes":[{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{}},"name":"Download Files","type":"n8n-nodes-base.googleDrive","position":[80,16],"typeVersion":3,"id":"6ebd9f79-3688-4b52-a2f9-a7a80fcf42c1","credentials":{"googleDriveOAuth2Api":{"id":"i9ySFF086TyukTDr","name":"Google Drive account 2"}}},{"parameters":{"operation":"pdf","options":{}},"name":"Extract Text from PDF","type":"n8n-nodes-base.extractFromFile","position":[784,-176],"typeVersion":1,"id":"3e096c0b-e330-4529-9b95-028f98b833e1"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.mimeType }}","rightValue":"application/pdf","operator":{"type":"string","operation":"equals"},"id":"5ce6e5bc-61d1-4009-90a1-36a4198de4d0"}],"combinator":"and"},"renameOutput":true,"outputKey":"pdf"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"dd9258d6-3322-4c79-80b3-1659328963f2","leftValue":"={{ $json.mimeType }}","rightValue":"application/json","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"json"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"84488e3b-5d1f-4972-a83f-0f102798a56c","leftValue":"={{ $json.mimeType }}","rightValue":"text/plain","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"txt"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"09769e5d-a3a8-4f06-84fc-422860124c89","leftValue":"={{ $json.mimeType }}","rightValue":"application/vnd.google-apps.document","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"docs"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.3,"position":[304,0],"id":"7807a6e4-2087-47dc-a300-533ce6c3ef46","name":"Switch"},{"parameters":{"operation":"text","options":{}},"name":"Extract Text from Text","type":"n8n-nodes-base.extractFromFile","position":[800,208],"typeVersion":1,"id":"5b5f528f-1db2-4132-a6bc-c5e80af591ac"},{"parameters":{"operation":"fromJson","options":{}},"name":"Extract Text from JSON","type":"n8n-nodes-base.extractFromFile","position":[640,16],"typeVersion":1,"id":"2f8a7f2c-1344-4cbc-b4b9-278fe28da80d"},{"parameters":{"resource":"fileFolder","searchMethod":"query","limit":1,"filter":{},"options":{"fields":["id","name","webViewLink","mimeType"]}},"name":"Search","type":"n8n-nodes-base.googleDrive","position":[-144,16],"typeVersion":3,"id":"8875741e-1614-4323-af6b-71dcea63dddd","credentials":{"googleDriveOAuth2Api":{"id":"i9ySFF086TyukTDr","name":"Google Drive account 2"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.3,"position":[-368,-80],"id":"f25f93c6-d157-4de9-b5e0-c31bf4148db9","name":"chat","webhookId":"bdfa224d-1abf-4d84-a007-04e82004ccb5"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1056,240],"id":"96e9ca19-8ca5-48ab-bad2-d536436bb8a7","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"9vlHLfDBsAvR6wrm","name":"OpenAi account"}}},{"parameters":{"promptType":"define","text":"=Resume este contenido {{ $json.text }}","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1104,16],"id":"93dd4afe-1729-4376-9147-63fb2fb5adda","name":"AI Agent"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-368,112],"id":"ce4f75cd-a497-429f-b263-c4bcff47dfe2","name":"When clicking ‘Execute workflow’"},{"parameters":{"jsCode":"// Convertir JSON a texto\nconst text = JSON.stringify($input.all(), null, 2);\n\nreturn [{ json: { text: text } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[848,16],"id":"06b3d3b1-2640-49e8-a4b2-3699bdcc417d","name":"JSON to Text (Code)"},{"parameters":{"operation":"text","options":{}},"name":"Extract Text from Text1","type":"n8n-nodes-base.extractFromFile","position":[800,384],"typeVersion":1,"id":"a5561282-695d-4ab3-ad62-5fff9b5d12d0"}],"connections":{"Search files and folders":{"main":[[{"node":"Google Drive - Descargar Contenido","type":"main","index":0}]]},"OpenAI - Resumir":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Google Drive - Descargar Contenido":{"main":[[{"node":"AI Agent","type":"main","index":0},{"node":"¿Es DOCX?","type":"main","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Inicio Manual":{"main":[[{"node":"Search files and folders","type":"main","index":0}]]},"Google Drive - Descargar Archivo":{"main":[[]]},"¿Es PDF?":{"main":[[{"node":"Extraer Texto de PDF","type":"main","index":0}],[{"node":"¿Es DOCX?","type":"main","index":0}]]},"Extraer Texto de PDF":{"main":[[{"node":"Combinar Resultados","type":"main","index":0},{"node":"Combinar Resultados","type":"main","index":1}]]},"¿Es DOCX?":{"main":[[{"node":"Extraer Texto de PDF1","type":"main","index":0},{"node":"Extraer Texto de DOCX","type":"main","index":0}],[{"node":"Extraer Texto de PDF","type":"main","index":0}]]},"Extraer Texto de DOCX":{"main":[[{"node":"Combinar Resultados","type":"main","index":0}]]},"Combinar Resultados":{"main":[[{"node":"Formatear Salida","type":"main","index":0}]]},"Search files and folders1":{"main":[[{"node":"Google Drive - Descargar Contenido1","type":"main","index":0}]]},"Google Drive - Descargar Contenido1":{"main":[[{"node":"¿Es PDF?","type":"main","index":0}]]},"Extraer Texto de PDF1":{"main":[[{"node":"Combinar Resultados","type":"main","index":1}]]},"Google Drive Trigger":{"main":[[{"node":"Google Drive Download","type":"main","index":0}]]},"Google Drive Download":{"main":[[{"node":"Switch Tipo Archivo","type":"main","index":0}]]},"Formatear Salida":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Download Files":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Extract Text from PDF":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Switch":{"main":[[{"node":"Extract Text from PDF","type":"main","index":0}],[{"node":"Extract Text from JSON","type":"main","index":0}],[{"node":"Extract Text from Text","type":"main","index":0}],[{"node":"Extract Text from Text1","type":"main","index":0}]]},"Extract Text from Text":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Extract Text from JSON":{"main":[[{"node":"JSON to Text (Code)","type":"main","index":0}]]},"Search":{"main":[[{"node":"Download Files","type":"main","index":0}]]},"chat":{"main":[[{"node":"Search","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"When clicking ‘Execute workflow’":{"main":[[{"node":"Search","type":"main","index":0}]]},"JSON to Text (Code)":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Extract Text from Text1":{"main":[[{"node":"AI Agent","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"1022c741-71c4-4d99-96f7-53abe2c8194d","triggerCount":0,"shared":[{"updatedAt":"2025-10-14T18:05:09.601Z","createdAt":"2025-10-14T18:05:09.601Z","role":"workflow:owner","workflowId":"E2uhZAy2F78UZ8ge","projectId":"prlZ3bTXg0wKi0D1"}],"tags":[]}